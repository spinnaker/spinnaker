<div ng-controller="appengineShrinkClusterStageCtrl as shrinkClusterStageCtrl" class="form-horizontal">
  <div ng-if="!pipeline.strategy">
    <account-region-cluster-selector
      application="application"
      component="stage"
      single-region="true"
      disable-region-select="true"
      on-account-update="shrinkClusterStageCtrl.setStageRegion()"
      accounts="accounts"
    >
    </account-region-cluster-selector>
  </div>
  <stage-config-field label="Shrink Options">
    <div class="form-inline">
      Shrink to
      <input
        type="number"
        min="0"
        required
        ng-model="stage.shrinkToSize"
        class="form-control input-sm"
        style="width: 50px"
      />
      {{shrinkClusterStageCtrl.pluralize('server group', stage.shrinkToSize)}}, keeping the
      <select class="form-control input-sm" ng-model="stage.retainLargerOverNewer" style="width: 100px">
        <option value="true">largest</option>
        <option value="false">newest</option>
      </select>
    </div>
  </stage-config-field>
  <div class="form-group">
    <div class="col-md-offset-3 col-md-6 checkbox">
      <label>
        <input type="checkbox" ng-model="stage.allowDeleteActive" />
        Allow deletion of active server groups
      </label>
    </div>
  </div>
  <stage-platform-health-override application="application" stage="stage" platform-health-type="platformHealth">
  </stage-platform-health-override>
</div>
