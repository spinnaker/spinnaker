<div class="rollup-entry">
  <div class="container-fluid"
       ng-class="{active: $state.includes('**.connections.**', {region: securityGroup.region, account: securityGroup.account, securityGroup: securityGroup.name})}">
    <div class="row">
      <div class="rollup-summary col-sm-12">
      <a class="title-link"
         ui-sref=".securityGroupDetails({region: securityGroup.region, accountId: securityGroup.accountName, name: securityGroup.name})">
        <span class="glyphicon glyphicon-transfer"></span> {{securityGroup.name}}
        <account-tag account="securityGroup.account" pad="left"></account-tag>
      </a>
      </div>
    </div>
    <div class="rollup-details row">
      <div class="rollup-details-section col-md-6" ng-if="displayOptions.showServerGroups">
        <div ng-if="!securityGroup.usages.serverGroups.length" class="small">
          No server groups
        </div>
        <div ng-repeat="serverGroup in securityGroup.usages.serverGroups | orderBy:'name'"
             class="rollup-row">
          <a
            ui-sref=".serverGroup({region: serverGroup.region, accountId: serverGroup.account, serverGroup: serverGroup.name})"
            ui-sref-active="active">
            <span class="glyphicon glyphicon-th"></span> {{serverGroup.name}}
          </a>
        </div>
      </div>
      <div class="rollup-details-section col-md-6" ng-if="displayOptions.showLoadBalancers">
        <div ng-if="!securityGroup.usages.loadBalancers.length" class="small">
          No load balancers
        </div>
        <div ng-repeat="loadBalancer in securityGroup.usages.loadBalancers | orderBy:'name'"
             class="rollup-row">
          <a
            ui-sref=".loadBalancerDetails({region: loadBalancer.region, accountId: loadBalancer.account, name: loadBalancer.name})"
            ui-sref-active="active">
            <span class="icon icon-elb"></span> {{loadBalancer.name}}
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
