<div class="dropdown" uib-dropdown>
  <button type="button" class="btn btn-sm btn-default dropdown-toggle" uib-dropdown-toggle>
    {{pipeline.strategy === true ? 'Strategy' : 'Pipeline'}} Actions <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" uib-dropdown-menu role="menu">
    <li ng-if="!pipeline.locked"><a href ng-click="pipelineConfigurerCtrl.renamePipeline()">Rename</a></li>
    <li ng-if="!pipeline.locked"><a href ng-click="pipelineConfigurerCtrl.deletePipeline()">Delete</a></li>
    <li ng-if="!pipeline.locked && pipeline.disabled">
      <a href ng-click="pipelineConfigurerCtrl.enablePipeline()">Enable</a>
    </li>
    <li ng-if="!pipeline.locked && !pipeline.disabled">
      <a href ng-click="pipelineConfigurerCtrl.disablePipeline()">Disable</a>
    </li>
    <li ng-if="!pipeline.locked"><a href ng-click="pipelineConfigurerCtrl.lockPipeline()">Lock</a></li>
    <li ng-if="pipeline.locked && pipeline.locked.allowUnlockUi">
      <a href ng-click="pipelineConfigurerCtrl.unlockPipeline()">Unlock</a>
    </li>

    <li ng-if="pipeline.locked"><a href ng-click="pipelineConfigurerCtrl.editPipelineJson()">Show JSON</a></li>
    <li ng-if="!pipeline.locked"><a href ng-click="pipelineConfigurerCtrl.editPipelineJson()">Edit as JSON</a></li>
    <li ng-if="viewState.loadingHistory">
      <a class="disabled"><em>Loading History...</em></a>
    </li>
    <li ng-if="!viewState.loadingHistory && viewState.hasHistory">
      <a href ng-click="pipelineConfigurerCtrl.showHistory()">Show Revision History</a>
    </li>
    <li ng-if="!viewState.loadingHistory && !viewState.hasHistory"><a class="disabled">No version history found</a></li>
    <render-if-feature feature="managedPipelineTemplatesV2UI">
      <li><a href ng-click="pipelineConfigurerCtrl.exportPipelineTemplate()">Export as Pipeline Template</a></li>
    </render-if-feature>
  </ul>
</div>
