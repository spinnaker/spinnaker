<div modal-page class="overlay overlay-modal" modal-overlay ng-if="taskMonitor.submitting || taskMonitor.error">
  <div class="modal-header">
    <h3>{{taskMonitor.title}}</h3>
  </div>
  <div class="modal-body clearfix">
    <div class="clearfix" auto-scroll="[taskMonitor.task.getValueFor('kato.tasks'), taskMonitor.task.error]">
      <div class="col-md-8 col-md-offset-2 overlay-modal-status" ng-if="taskMonitor.task">
        <task-monitor-status monitor="taskMonitor"></task-monitor-status>
      </div>
      <task-monitor-error error-message="taskMonitor.errorMessage" task="taskMonitor.task"></task-monitor-error>
    </div>
  </div>
  <div class="modal-footer" ng-if="!taskMonitor.error">
    <button class="btn btn-primary" ng-click="taskMonitor.closeModal()" autofocus>Close</button>
  </div>
  <div class="modal-footer" ng-if="taskMonitor.error">
    <button class="btn btn-primary" ng-click="taskMonitor.tryToFix()">Go back and try to fix this</button>
    <button class="btn btn-default" ng-click="taskMonitor.closeModal()">Cancel</button>
  </div>
</div>
