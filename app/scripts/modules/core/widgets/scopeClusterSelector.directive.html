<div>
  <div>
    <select
        name="stacks"
        class="form-control input-sm"
        ng-model="vm.model"
        ng-change="vm.clusterChanged()"
        ng-if="!vm.freeFormClusterField"
        >

      <option value=""></option>
      <option
          ng-if="vm.allowNone"
          value="none"
          ng-selected="!vm.model">
        none
      </option>
      <option
          ng-repeat="cluster in vm.clusters"
          value="{{cluster}}"
          ng-selected="vm.model === cluster"
          >
        {{cluster}}
      </option>
    </select>

    <input
        type="text"
        ng-blur="vm.clusterChanged()"
        class="form-control input-sm"
        ng-if="vm.freeFormClusterField"
        ng-model="vm.model" />

  </div>

  <div class="pull-right">
    <a href ng-click="vm.toggleFreeFormClusterField($event)" ng-if="!vm.freeFormClusterField">Toggle for text input</a>
    <a href ng-click="vm.toggleFreeFormClusterField($event)" ng-if="vm.freeFormClusterField">Toggle for list of exiting clusters </a>
  </div>
</div>
