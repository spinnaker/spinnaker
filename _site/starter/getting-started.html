<!DOCTYPE html>
<html>
  <head>
    











<!-- Basic metadata -->
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="chrome=1, IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Title and Description -->
<title>Spinnaker: Getting Started</title>
<meta name="description" content="">

<!-- Schema.org markup for Google+ -->
<meta itemprop="name" content="Spinnaker: Getting Started">
<meta itemprop="description" content="">
<meta itemprop="image" content="https://netflix.github.io/spinnaker/images/falcor-logo.png">

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@netflix">
<meta name="twitter:title" content="Spinnaker: Getting Started">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@netflixoss">
<meta name="twitter:image:src" content="https://netflix.github.io/spinnaker/images/falcor-logo-twitter-card.png">

<!-- Open graph metadata -->
<meta property="og:title" content="Spinnaker: Getting Started">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Falcor" />
<meta property="og:url" content="https://netflix.github.io/spinnaker/starter/getting-started.html">
<meta property="og:image" content="http://netflix.github.io/spinnaker/images/falcor-logo-og.png">
<meta property="og:image:secure_url" content="https://netflix.github.io/spinnaker/images/falcor-logo-og.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:description" content="">

<!-- All site CSS -->
<link rel="stylesheet" type="text/css" media="screen" href="/spinnaker/stylesheets/spinnaker-site.css">

<!-- All site favicons -->
<link rel="apple-touch-icon" sizes="57x57" href="/spinnaker/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/spinnaker/images/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/spinnaker/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/spinnaker/images/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/spinnaker/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/spinnaker/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/spinnaker/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/spinnaker/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/spinnaker/images/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/spinnaker/images/favicons/favicons-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/spinnaker/images/favicons/favicons-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/spinnaker/images/favicons/favicons-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/spinnaker/images/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/spinnaker/images/favicons/favicons-16x16.png" sizes="16x16">
<link rel="manifest" href="/spinnaker/images/favicons/manifest.json">
<meta name="msapplication-TileColor" content="#2b5797">
<meta name="msapplication-TileImage" content="/spinnaker/images/favicons/mstile-144x144.png">
<meta name="theme-color" content="#000000">

  </head>
  <body >
  <a class="sr-only" href="#main-content">Skip to main content</a>
  <header>
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-lg-10 col-lg-offset-1">

          <!-- Branding and mobile menu button -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-navigation" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/spinnaker/">
              <img class="img-plain navbar-logo" src="/spinnaker/images/spinnaker-header.png" alt="Spinnaker logo">
            </a>
          </div>

          <!-- Main navigation links -->
          <div class="navbar-collapse collapse site-navigation">
            <ul class="nav navbar-nav">
              
                
                  <li class="dropdown ">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                      Introduction <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                      
                        
                        <li class="">
                          <a href="/spinnaker/starter/what_is_spinnaker.html">What is Spinnaker</a>
                        </li>
                      
                    </ul>
                  </li>
                
              </li>
              
                
                  <li class="dropdown ">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                      Guides <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                      
                        
                        <li class="">
                          <a href="/spinnaker/documentation/quick_start.html">Quick Start</a>
                        </li>
                      
                        
                        <li class="">
                          <a href="/spinnaker/documentation/user_guide.html">User's Guide</a>
                        </li>
                      
                        
                        <li class="">
                          <a href="/spinnaker/documentation/integration_guide.html">Integration Guide</a>
                        </li>
                      
                        
                        <li class="">
                          <a href="/spinnaker/documentation/developer_guide.html">Developer's Guide</a>
                        </li>
                      
                    </ul>
                  </li>
                
              </li>
              
                
                  <li class="dropdown ">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                      Videos <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                      
                        
                        <li class="">
                          <a href="/spinnaker/video-tutorials/spring_one_2014.html">Spring One 2014 Keynote</a>
                        </li>
                      
                        
                        <li class="">
                          <a href="/spinnaker/video-tutorials/gr8conf_2015_micro_service_architecture.html">Gr8Conf 2015 MicroService Architecture</a>
                        </li>
                      
                    </ul>
                  </li>
                
              </li>
              
                
                  
                    <li class="">
                      <a href="/spinnaker/doc/swagger.html">API Reference</a>
                    </li>
                  
                
              </li>
              
            </ul>

            <!-- Link to the project's GitHub repo & Twitter profile -->
            <ul class="nav navbar-nav navbar-right navbar-links">
              <li><a href="https://github.com/spinnaker/">GitHub</a></li>
            </ul>
          </div>

        </div>
      </div>
    </div>
  </nav>
</header>


  <!-- the id is used exclusively for easy access by assistive technology -->
  <main class="container standard-page" id="main-content">
    <div class="row">
      <div class="col-xs-12 col-lg-10 col-lg-offset-1">
        <div class="row">
  <div class="col-xs-12 col-sm-11 col-md-9 col-lg-9 plain-page">
    <h1 id="getting-started">Getting Started</h1>

<p>In this barebones tutorial we will use the falcor Router to create a Virtual JSON resource. Then we will use falcor’s express middleware to serve the Virtual JSON resource on an application server at the URL /model.json. We will also host a static web page on the same server which retrieves data from the Virtual JSON resource.</p>

<h2 id="creating-a-virtual-json-resource">Creating a Virtual JSON Resource</h2>

<p>In this example we will use the falcor Router to build a Virtual JSON resource on an app server. The and host it at /model.json. The JSON resource will contain the following contents:</p>

<pre><code class="language-js">{
  "greeting": "Hello World"
}
</code></pre>

<p>Normally Routers retrieve the data for their Virtual JSON resource from backend datastores or other web services on-demand. However in this simple tutorial the Router will simply return static data for a single key.</p>

<p>First we create a folder for our application server.</p>

<pre><code class="language-bash">mkdir falcor-app-server
cd falcor-app-server
npm init
</code></pre>

<p>Now we install the falcor Router.</p>

<pre><code class="language-bash">npm install falcor-router --save
</code></pre>

<p>Then install express and falcor-express.  Support for restify is also available, as is support for hapi via a <a href="https://github.com/dzannotti/falcor-hapi">third-party implementation</a>.</p>

<pre><code class="language-bash">npm install express --save
npm install falcor-express --save
</code></pre>

<p>Now we create an index.js file with the following contents:</p>

<pre><code class="language-js">// index.js
var falcorExpress = require('falcor-express');
var Router = require('falcor-router');

var express = require('express');
var app = express();

app.use('/model.json', falcorExpress.dataSourceRoute(function (req, res) {
  // create a Virtual JSON resource with single key ("greeting")
  return new Router([
    {
      // match a request for the key "greeting"    
      route: "greeting",
      // respond with a PathValue with the value of "Hello World."
      get: function() {
        return {path:["greeting"], value: "Hello World"};
      }
    }
  ]);
}));

// serve static files from current directory
app.use(express.static(__dirname + '/'));

var server = app.listen(3000);

</code></pre>

<p>Now we run the server, which will listen on port 3000 for requests for /model.json.</p>

<pre><code class="language-sh">node index.js
</code></pre>

<h2 id="retrieving-data-from-the-virtual-json-resource">Retrieving Data from the Virtual JSON resource</h2>

<p>Now that we’ve built a simple virtual JSON document with a single read-only key “greeting”, we will create a test web page and retrieve this key from the server.</p>

<p>First we build the falcor library from source.</p>

<pre><code class="language-sh">cd ..
git clone https://github.com/Netflix/falcor
cd falcor
npm install
npm run dist
cp dist/falcor.browser.js ../falcor-app-server
cd ../falcor-app-server
</code></pre>

<p>Now create an index.html file with the following contents:</p>

<pre><code class="language-html">&lt;!-- index.html --&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;script src="/falcor.browser.js"&gt;&lt;/script&gt;
    &lt;script&gt;
      var model = new falcor.Model({source: new falcor.HttpDataSource('/model.json') });
      
      // retrieve the "greeting" key from the root of the Virtual JSON resource
      model.
        get("greeting").
        then(function(response) {
          document.write(response.json.greeting);
        });
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Now visit http://localhost:3000/index.html and you should see the message retrieved from the server:</p>

<p><img src="/spinnaker/starter/helloworld.png" alt="Hello World" /></p>

    
    <div class="row row-gap-medium"></div>
    


  
    
      
    
  

  
    
      
    
      
    
      
    
      
    
  

  
    
      
    
      
    
  

  



  </div>
</div>        
      </div>
    </div>
  </main>
  
  <footer class="site-footer">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-lg-10 col-lg-offset-1">
        <div class="row">
          <div class="col-xs-4 site-footer-item">
            <a href="https://www.netflix.com" target="_blank">
              <img class="netflix-logo" src="/spinnaker/images/netflix-logo.svg" alt="Netflix logo">
            </a>
          </div>
          <div class="col-xs-8 text-right site-footer-item footer-links">
            <div>
              <a href="https://netflix.github.io/" target="_blank">Netflix Open Source Platform</a><br>
              <span class="copyright-notice">
                
                &copy; 2015
                NETFLIX, INC. ALL RIGHTS RESERVED
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

  
  <!-- JQuery (cdn and local fallback) for the bootstrap plugins -->
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>if (!window.jQuery) {document.write('<script src="/spinnaker/javascripts/jquery-2.1.4.min.js"><\/script>');}</script>
<script src="/spinnaker/javascripts/bootstrap-modified.min.js"></script>
<script src="/spinnaker/javascripts/modernizr-custom.min.js"></script>
<script src="/spinnaker/javascripts/prettify/prettify-bundle.min.js"></script>

<script>
  $(document).ready(function () {
    // =============================================
    // = Initialize Table of Contents (If Present) =
    // =============================================
    
    // Since we can't touch the kramdown autogenrated TOC code,
    // instead just wrap it in the sitewide TOC class, since the rest
    // of it is very reasonably structured.
    $('#markdown-toc').wrap('<div class="table-of-contents"></div>');
    
    // Make the kramdown generated toc into a valid bootstrap nav
    $('#markdown-toc').addClass('nav');
    
    // To prevent flash-of-awkwardly-styled-content, the toc is hidden until
    // the processing above is done.
    $('.toc-page').removeClass('not-ready');
    $('body').scrollspy({
      target: '.table-of-contents', 
      offset: 75
    });
    

    // ========================
    // = Prettify Code Blocks =
    // ========================
    
    // Transform all pre blocks that were presumably autogenerated by markdown so
    // they'll be prettified too
    $('pre:not([class])').addClass('prettyprint source');
    
    // Kramdown puts the language on the code element, but we want it on the pre
    // so the background can be styled too and we can vary the theme depending on
    // which language it is. The simplest solution is just to grab all the classes.
    $('.prettyprint').each(function (index, prettyPrintNode) {
      var classList = $(prettyPrintNode).children('code').attr('class');
      $(prettyPrintNode).addClass(classList);
    })
    
    window.prettyPrint();
    
    // Copied directly from the linenumbers.js file included with the
    // default JSDoc theme.
    (function () {
        var source = document.getElementsByClassName('prettyprint source linenums');
        var i = 0;
        var lineNumber = 0;
        var lineId;
        var lines;
        var totalLines;
        var anchorHash;

        if (source && source[0]) {
            anchorHash = document.location.hash.substring(1);
            lines = source[0].getElementsByTagName('li');
            totalLines = lines.length;

            for (; i < totalLines; i++) {
                lineNumber++;
                lineId = 'line' + lineNumber;
                lines[i].id = lineId;
                if (lineId === anchorHash) {
                    lines[i].className += ' selected';
                }
            }
        }
    })();
  });    
</script>


</body>

  
</html>
