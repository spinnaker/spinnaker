===== Create Amazon Load Balancer Description

====== Key

+createAmazonLoadBalancerDescription+

====== Description

This description provides the inputs necessary to handle the deployment of an Elastic Load Balancer at Amazon.

====== Example Request Body
[source,javascript]
----
[{
    "createAmazonLoadBalancerDescription": {
        "clusterName": "kato-main",
        "subnetType": "internal",
        "securityGroups": ["nf-infrastructure-vpc", "nf-datacenter-vpc"],
        "availabilityZones": {
            "us-east-1": []
        },
        "listeners": [{
            "externalProtocol": "TCP",
            "internalProtocol": "TCP",
            "externalPort": "7001",
            "internalPort": "7001"
        }],
        "healthCheck": "HTTP:7001/health",
        "credentials": "test"
    }
}]
----

====== Description of inputs

[width="100%",frame="topbot",options="header,footer"]
|======================
|Key               | Type   | Required | Value
|clusterName       | string | true     | The name of the cluster for which this ELB will service.
|availabilityZones | object | true     | An object that provides a named region to array of availability zone relationships. For example, +{ "us-east-1": ["us-east-1a", "us-east-1c"] }+ will inform the deployment engine to deploy the ELB in the "us-east-1" region, and specifically into the availability zones: "us-east-1a", "us-east-1c". AutoScaling groups within the cluster MUST ALSO be in the same zones.
|credentials       | string | true     | The named account credentials that are to be used for this operation.
|securityGroups    | array  | false    | List of security *group names*. Their IDs in their particular regions will be found at Amazon -- no need to look them up in advance.
|subnetType        | string | false    | The subnet "type" that is applicable to this deployment. This instructs the deployment engine to what subnets and vpcs this deployment will be a part. Subnets that are tagged with the key "immutable_metadata" and a value of a structure like, +{ "purpose": "internal", "target": "ec2" }+, will be found by the engine, and their "purpose" may be used as a value type for this field. Note that "purpose" and "target" provide a composite key, where the "target" property has eligible values of one of: "ec2" or "elb". Only one "purpose" to "target" correlation is valid with respect to the "subnetType" field in this description.
|listeners         | array  | false    | Listeners are a construct that map ports from an ELB to a port on an instance for which the ELB is servicing. A listener is a complex object that specifies: an "externalPort" -- the port that users will hit the load balancer with; an "internalPort" -- the port that the load balancer will send the traffic to on an instance; "externalProtocol" -- the protocol that the configured "externalPort" will accept traffic. This value is one of: "HTTP", "HTTPS", "TCP", or "SSL"; "internalProtocol" -- is the protocol with which the ELB will communicate traffic to the configured "internalPort" on the instance to which it is providing service; "sslCertificateId" -- is only necessary when the "externalProtocol" is configured as "SSL". There may be any number of listeners configured.
|healthCheck       | string | false    | Specifies the health check target for this load balancer. Right now, this is just a pass-thru of what Amazon expects for an ELB health check's "target".
|======================
